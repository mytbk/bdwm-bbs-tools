#!/bin/bash

readcmd(){
	printf '>'
	read -r "$@"
}

loop(){
	local TIMES="$1"
	shift
	for i in $(seq 1 $TIMES)
	do
		eval "$@"
	done
}

# keypresses
pgup(){
	printf '\033[5~'
}

pgdn(){
	printf '\033[6~'
}

# the right key
keyr(){
	printf '\033[C'
}

switch(){
	printf 's%s\n' "$1"
}

view(){
	printf 's\n%s\n' "$1"
}

p(){
	printf 'k'
}

n(){
	printf 'j'
}

last(){
	printf '$'
}

enter(){
	printf '\n'
}

reenter(){
	printf 'q\n\n'
}

redraw(){
	printf '\014'
}

# functions on BBS
post(){
	printf '\020'
}

save(){
	printf '\027'
}

bye(){
	printf '!\n\n'
}

while readcmd CMD
do
#echo $CMD
	eval $CMD > "$1"
done

